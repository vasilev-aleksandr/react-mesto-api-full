{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","utils/constants.js","utils/api.js","utils/auth.js","components/SignForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","props","link","linkText","location","pathname","className","src","logo","alt","loggedIn","email","onClick","handleLogout","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","type","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","reverse","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","submitText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","required","value","onChange","evt","target","AddPlacePopup","setLink","placeholder","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","METHOD","document","querySelector","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","authorization","localStorage","getItem","then","_handleResponse","method","body","JSON","stringify","cardId","likeStatus","auth","password","data","token","setItem","SignForm","action","hint","Login","handleLogin","setEmail","setPassword","Register","handleRegister","ProtectedRoute","component","InfoTooltip","history","useHistory","image","isSuccess","success","error","popupText","imageAlt","closeHandler","push","App","isEditProfilePopupOpen","setIsEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","infoTooltipSuccess","setInfoTooltipSuccess","userEmail","setUserEmail","closeAllPopups","handleInfoTooltipOpen","getCards","catch","err","console","getMyInfo","checkToken","log","mainPage","changeLikeCardStatus","newCard","state","c","deleteCard","newCards","filter","userInfo","updateMyInfo","userData","createCard","updateMyAvatar","updatedUser","Provider","removeItem","path","register","authorize","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0a08cd10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  let link = '',\n    linkText = '';\n  if (props.location.pathname === '/sign-in') {\n    link = '/sign-up';\n    linkText = 'Регистрация';\n  } else if (props.location.pathname === '/sign-up') {\n    link = '/sign-in';\n    linkText = 'Войти';\n  }\n  \n  return (\n  <header className=\"header\">\n    <img src={logo} className=\"header__logo\" alt=\"место россия\"/>\n    <div className=\"header__container\">\n        {props.loggedIn ? (\n          <>\n            <div className=\"header__user-email\">{props.email}</div>\n            <button className=\"header__exit-button button\" onClick={props.handleLogout}>\n              Выйти\n            </button>\n          </>\n        ) : (\n          <Link className=\"header__link\" to={link}>\n            {linkText}\n          </Link>\n        )}\n      </div>\n  </header>\n  )\n}\n\nexport default withRouter (Header)","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = `place__delete-button ${isOwn ? 'place__delete-button_visible': 'place__delete-button_hidden'}`; \n  const isLiked = card.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = `place__like ${isLiked && 'place__like_active'}`;\n  \n  return (\n    <div className=\"place\">\n        <div className=\"place__photo-container\">\n          <img className=\"place__photo\" src={card.link} alt={card.name} onClick={() => {onCardClick(card);}}></img>\n        </div>\n        <div className=\"place__description\">\n          <h3 className='place__heading'>{card.name}</h3>\n          <div className ='place__like-container'>\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={() => { onCardLike(card) }}/> \n            <span className='place__like-counter'>{card.likes.length}</span>\n          </div>\n        </div>\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={() => { onCardDelete(card) }}/>\n    </div>\n\n  )}\n\n  export default Card;","import React, { useContext } from 'react';\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n    <section className=\"profile\">\n    <button className=\"profile__avatar-edit\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={props.onEditAvatar}></button>\n    <div className=\"profile__info\">\n      <div className=\"profile__name-container\">\n       <h1 className=\"profile__name\">{currentUser.name}</h1>\n       <button className=\"profile__edit-button button\" type=\"button\" onClick={props.onEditProfile}></button>\n      </div>\n      <p className=\"profile__about\">{currentUser.about}</p>\n    </div>\n    <button className=\"profile__add-button button\" type=\"button\" onClick={props.onAddPlace}></button>\n    </section>\n    <section className=\"places\">\n    {props.cards.reverse().map((card) => (\n          <Card\n            card={card}\n            key={card._id}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n    </section>\n  </main>\n  )\n}\n\nexport default Main","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__heading\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_active'}`}>\n    <div className=\"popup__container\">\n      <button className=\"popup__close-button button\" type=\"button\" onClick={props.onClose}></button>\n      <h2 className=\"popup__title\">{props.title}</h2>\n      <form className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\n        {props.children}\n        <button className=\"popup__save-button button\" type=\"submit\">{props.submitText}</button>\n    </form>   \n    </div>\n  </div>\n  )\n}\n\nexport default PopupWithForm;","function ImagePopup(props) {\n  return (\n  <div className={`popup popup_image ${props.card && 'popup_active'}`}>\n      <div className=\"popup__image-container\">\n        <button className=\"popup__close-button button\" onClick={props.onClose}></button>\n        <img className=\"popup__image-photo\" src={props.card && props.card.link}  alt='изображение'/>\n        <p className=\"popup__image-description\">{props.card && props.card.name}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React, { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit ={handleSubmit}\n    >\n      <input \n        id=\"profile-name\" \n        className=\"popup__input popup__input_profile_name\" \n        name=\"name\" \n        minLength=\"2\" \n        maxLength=\"40\" \n        required  \n        value={name} \n        onChange={(evt) => {setName(evt.target.value)}}/>\n      <span className=\"profile-name-error popup__error\"/>\n      <input \n        id=\"profile-about\" \n        className=\"popup__input popup__input_profile_about\" \n        name=\"about\" \n        minLength=\"2\" \n        maxLength=\"200\" \n        required \n        value={description} \n        onChange={(evt) => {setDescription(evt.target.value)}}/>\n      <span className=\"profile-about-error popup__error\"/>\n    </PopupWithForm>\n  )\n\n}\n\nexport default EditProfilePopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault(); \n    onAddPlace({\n      name,\n      link\n    });\n  }\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  return(\n    <PopupWithForm \n      name=\"place\"\n      title=\"Новое место\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input \n        id=\"place-name\" \n        className=\"popup__input popup__input_place_name\" \n        name=\"name\" \n        placeholder=\"Название\" \n        minLength=\"2\" \n        maxLength=\"40\" \n        required \n        value={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"place-name-error popup__error\"/>\n      <input \n        id=\"place-link\" \n        className=\"popup__input popup__input_place_link\" \n        type ='url' \n        name=\"link\" \n        placeholder=\"Ссылка на картинку\" \n        required\n        value={link}\n        onChange={handleLinkChange}\n      />\n      <span className=\"place-link-error popup__error\"/>\n    </PopupWithForm>\n  \n  )\n\n}\n\nexport default AddPlacePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarInput = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarInput.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input \n        id ='profile-avatar' \n        className=\"popup__input popup__input_profile_avatar\"  \n        name=\"link\" \n        type=\"url\" \n        placeholder=\"Ссылка на картинку\" \n        ref={avatarInput} \n        required/>\n      <span id=\"profile-avatar-error\" className=\"popup__error\"/>\n    </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;\n","export const initialCards = [\n  {\n    name: 'Архыз',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\n  },\n  {\n    name: 'Челябинская область',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\n  },\n  {\n    name: 'Иваново',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg'\n  },\n  {\n    name: 'Камчатка',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\n  },\n  {\n    name: 'Холмогорский район',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\n  },\n  {\n    name: 'Байкал',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\n  }\n]\n\nexport const editButton = document.querySelector('.profile__edit-button')\nexport const addButton = document.querySelector('.profile__add-button')\nexport const avatarEditButton = document.querySelector('.profile__avatar-edit')\n\nexport const nameSelector = '.profile__name'\nexport const aboutSelector = '.profile__about'\nexport const avatarSelector = '.profile__avatar'\n\nexport const placesContainerSelector = '.places'\nexport const placeTemplateSelector = '#place-template'\n\nexport const popupPlaceSelector = '.popup_place'\nexport const popupProfileSelector = '.popup_profile'\nexport const popupImageSelector = '.popup_image'\nexport const popupAvatarSelector ='.popup_avatar'\nexport const popupDeleteConfirmSelector ='.popup_delete-confirm'\n\nexport const METHOD = {\n    GET: 'GET',\n    POST: 'POST',\n    DELETE: 'DELETE',\n    PUT: 'PUT',\n    PATCH: 'PATCH',\n}\n\nexport const CONFIG_API = {\n  url: 'https://api.vasilev.students.nomoredomains.club',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}\n\nexport const VALIDATOR_DATA = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__save-button ',\n  inactiveButtonClass: 'popup__save-button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorSelector: '.popup__error',\n  errorClass: 'popup__error_visible',\n}\n","import { METHOD } from './constants.js'\n\nclass Api {\n  constructor (config) {\n    this.url = config.url\n    this.headers = config.headers\n  }\n\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n  return Promise.reject(new Error(`Произошла ошибка со статус кодом ${res.status}`))\n  }\n    \n  getCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n    .then(this._handleResponse)  \n  }\n\n\n  createCard({name, link}) {\n    return fetch(`${this.url}/cards`, {\n      method: METHOD.POST,\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({ name, link })\n    })\n    .then(this._handleResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`, {\n      method: METHOD.DELETE,\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n    })\n    .then(this._handleResponse)\n    }\n\n changeLikeCardStatus(cardId, likeStatus) {\n  if (likeStatus) {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: METHOD.PUT,\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n    }).then(this._handleResponse)\n  } else {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: METHOD.DELETE,\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._handleResponse)\n    }\n  }\n\n  getMyInfo() {\n    return fetch(`${this.url}/users/me`, {\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  updateMyInfo({name, about}) {\n    return fetch(`${this.url}/users/me`, {\n      method: METHOD.PATCH, \n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({ name, about })\n    })\n    .then(this._handleResponse)\n  }\n\n  updateMyAvatar(avatar) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: METHOD.PATCH, \n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({ avatar })\n    })\n    .then(this._handleResponse)\n  }\n}\n\n\nconst api = new Api ({\n  url: 'https://api.vasilev.students.nomoredomains.club',\n  headers: {\n    authorization: '56ef87ac-ca8d-4cfa-bbaf-aacafdd87bde',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api\n\n\n","import { METHOD } from './constants.js'\n\n\nclass Auth {\n  constructor (config) {\n    this.url = config.url\n    this.headers = config.headers\n  }\n  \n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n  return Promise.reject(new Error(`Произошла ошибка со статус кодом ${res.status}`))\n  }\n  \n  register({password, email}){\n    return fetch(`${this.url}/signup`, {\n      method: METHOD.POST,\n      headers: this.headers,\n      body: JSON.stringify({password, email})\n    })\n    .then(this._handleResponse)\n  };\n\n  authorize({password, email}){\n    return fetch(`${this.url}/signin`, {\n      method: METHOD.POST,\n      headers: this.headers,\n      body: JSON.stringify({password, email})\n    })\n    .then(this._handleResponse)\n    .then((data) => {\n      if (data.token){\n        localStorage.setItem('token', data.token);      \n      }\n      return data;\n    })\n  };\n\n  checkToken(){\n    return fetch(`${this.url}/users/me`, {\n      method: METHOD.GET,\n      headers: {\n        ...this.headers,\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n    .then(this._handleResponse)\n    .then((data) => {\n      return data;\n  })\n  }\n}\n\nconst auth = new Auth({\n  url: 'https://api.vasilev.students.nomoredomains.club',\n  headers: {\n    authorization: '56ef87ac-ca8d-4cfa-bbaf-aacafdd87bde',\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }, \n})\n\n\nexport default auth\n\n","import React from 'react';\n\nfunction SignForm(props) {\n  return (\n    <form\n      className=\"sign-form\"\n      name={props.name}\n      onSubmit={props.onSubmit}\n      action=\"#\"\n      method=\"GET\"\n      noValidate\n    >\n      <div className=\"sign-form__container\">\n        <h2 className=\"sign-form__title\">{props.title}</h2>\n        {props.children}\n      </div>\n      <div className=\"sign-form__bottom-container\">\n        <button type=\"submit\" className=\"sign-form__submit-button\">\n          {props.submitText}\n        </button>\n        {props.hint}\n      </div>\n    </form>\n  );\n}\n\nexport default SignForm;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport SignForm from './SignForm';\n\nfunction Login({ handleLogin }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  \n  function submitHandler(e) {\n  handleLogin(e, email, password)\n  }\n\n  const hint = (\n    <div className=\"sign-form__transition-hint\">\n      Ещё не зарегистрированы?{' '}\n      <Link className=\"sign-form__link\" to=\"/sign-up\">\n        Регистрация\n      </Link>\n    </div>\n  );\n\n  return (\n    <SignForm name=\"sign-in\" onSubmit={submitHandler} title=\"Вход\" submitText=\"Войти\" hint={hint}>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-email\"\n          name=\"email\"\n          type=\"email\"\n          value={email}\n          onChange={(evt) => {\n            setEmail(evt.target.value);\n          }}\n          placeholder=\"Email\"\n          required\n        />\n        <span\n          className=\"sign-form__input-error sign-form__input-error_active\"\n          id=\"input-edit-name-error\"\n        ></span>\n      </label>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-password\"\n          name=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(evt) => {\n            setPassword(evt.target.value);\n          }}\n          placeholder=\"Пароль\"\n          required\n        />\n      </label>\n    </SignForm>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport SignForm from './SignForm';\n\nfunction Register({handleRegister}) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function submitHandler(e) {\n    handleRegister(e, email, password)\n  }\n\n  const hint = (\n    <div className=\"sign-form__transition-hint\">\n      Уже зарегистрированы?{' '}\n      <Link className=\"sign-form__link\" to=\"/sign-in\">\n        Войти\n      </Link>\n    </div>\n  );\n\n  return (\n    <SignForm\n      name=\"sign-in\"\n      onSubmit={submitHandler}\n      title=\"Регистрация\"\n      submitText=\"Зарегистрироваться\"\n      hint={hint}\n    >\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-email\"\n          name=\"email\"\n          type=\"email\"\n          value={email}\n          onChange={(evt) => {\n            setEmail(evt.target.value);\n          }}\n          placeholder=\"Email\"\n          required\n        />\n        <span\n          className=\"sign-form__input-error sign-form__input-error_active\"\n          id=\"input-edit-name-error\"\n        ></span>\n      </label>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-password\"\n          name=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(evt) => {\n            setPassword(evt.target.value);\n          }}\n          placeholder=\"Пароль\"\n          required\n          minLength=\"2\"\n          maxLength=\"32\"\n        />\n      </label>\n    </SignForm>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = (props) => {\n  return (\n    <Route>\n      {() => \n        (props.loggedIn ? props.component : <Redirect to=\"/sign-in\" />)\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nfunction InfoTooltip(props) {\n  const history = useHistory();\n  const image = props.isSuccess ? success : error;\n  const popupText = props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.';\n  const imageAlt = props.isSuccess ? 'Успешная регистрация' : 'Что-то пошло не так';\n\n\n  function closeHandler() {\n    props.onClose();\n\n    if (props.isSuccess) {\n      history.push('/sign-in');\n    }\n  }\n\n  return (\n    <div className={`popup popup_after-sign ${props.isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={closeHandler}\n        ></button>\n        <form\n          className=\"popup__form\"\n          name=\"after-sign\"\n          onSubmit={closeHandler}\n          action=\"#\"\n          method=\"GET\"\n          noValidate\n        >\n          <img\n            className=\"popup__auth-image\"\n            src={image}\n            alt={imageAlt}\n          />\n          <h2 className=\"popup__text\">{popupText}</h2>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import React, { useState, useEffect } from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({ _id: '', name: '', avatar: '', about: '' });\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [infoTooltipSuccess, setInfoTooltipSuccess] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn) {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }}, [loggedIn]);\n  \n  useEffect(()=> {\n    if (loggedIn) {\n    api\n      .getMyInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }}, [loggedIn]);\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      auth\n        .checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.email);\n            history.push('/'); \n          }\n        })\n        .catch((err) => console.log(err));\n        \n    }\n  }, [loggedIn, history]);\n  \n  function handleEditProfileClick() {\n    setIsEditProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n\n  function handleUpdateUser(userInfo) {\n    api\n      .updateMyInfo(userInfo)\n      .then((userData) => {\n        setCurrentUser(userData.data);\n        setIsEditProfileOpen(false);\n    })\n      .catch((err) => {\n        console.error(err);\n      });\n    }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .updateMyAvatar(avatar)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser.data);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .createCard(card)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n    setCards((state) => state.map((c) => c._id === card._id ? newCard.data : c));\n    })\n    .catch((err) => {\n    console.error(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n    });\n  }\n\n\n  function closeAllPopups() {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null)\n  }\n\n\n  function handleRegister(e, email, password) {\n    e.preventDefault();\n\n    auth\n    .register({password, email})\n    .then((res) => {\n      if (res.data) {\n        handleInfoTooltipOpen(true);\n      } else {\n        handleInfoTooltipOpen(false);\n      }\n    }).catch((err)=>{\n      handleInfoTooltipOpen(false);\n      console.log(err);\n    });\n  }\n  \n  function handleLogin(e, email, password) {\n    e.preventDefault();\n    if (!email || !password) {\n      handleInfoTooltipOpen(false);\n      return;\n    }\n    auth\n      .authorize({email, password})\n      .then((data) => {\n        console.log(data)\n        if (data.token) {\n          setLoggedIn(true);\n          history.push('/');\n        } else {\n          handleInfoTooltipOpen(false);\n        }\n      })\n      .catch((err) => {\n        handleInfoTooltipOpen(false);\n      });\n  }\n\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n  }\n\n  function handleInfoTooltipClose() {\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleInfoTooltipOpen(isSuccess) {\n    setIsInfoTooltipOpen(true);\n    setInfoTooltipSuccess(isSuccess);\n  }\n\n  const mainPage = (\n    <>\n    <Main \n      cards={cards}\n      onEditAvatar={handleEditAvatarClick}\n      onEditProfile={handleEditProfileClick}\n      onAddPlace={handleAddPlaceClick}\n      onCardClick={handleCardClick}\n      onCardLike={handleCardLike}\n      onCardDelete={handleCardDelete}\n    />\n    <Footer />\n    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n    <PopupWithForm name=\"delete-confirm\" title=\"Вы уверены?\" submitText=\"Да\" onClose={closeAllPopups}/>\n    <ImagePopup card={selectedCard} onClose={closeAllPopups}/> \n    </>\n  )\n\n  return (\n  \n  <CurrentUserContext.Provider value={currentUser}>\n  <div className=\"container\">\n    <div className =\"page\">\n    <Header loggedIn={loggedIn} email={userEmail} handleLogout={handleLogout}/>\n    <Switch>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegister} />\n      </Route>\n      <Route path=\"/sign-in\">\n        <Login handleLogin={handleLogin} />\n      </Route>\n      <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={mainPage} />\n      <Route path=\"*\">{loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}</Route>\n    </Switch>\n    <InfoTooltip\n      isOpen={isInfoTooltipOpen}\n      onClose={handleInfoTooltipClose}\n      isSuccess={infoTooltipSuccess}\n    />\n  </div>\n</div>\n</CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App'\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}