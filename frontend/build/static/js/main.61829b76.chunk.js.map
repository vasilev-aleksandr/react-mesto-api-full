{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","utils/constants.js","utils/api.js","utils/auth.js","components/SignForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","props","link","linkText","location","pathname","className","src","logo","alt","loggedIn","email","onClick","handleLogout","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","type","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","submitText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","required","value","onChange","evt","target","AddPlacePopup","setLink","placeholder","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","METHOD","document","querySelector","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_handleResponse","method","body","JSON","stringify","cardId","likeStatus","authorization","auth","password","data","token","localStorage","setItem","SignForm","action","hint","Login","handleLogin","setEmail","setPassword","Register","handleRegister","ProtectedRoute","component","InfoTooltip","history","useHistory","image","isSuccess","success","error","popupText","imageAlt","closeHandler","push","App","isEditProfilePopupOpen","setIsEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","infoTooltipSuccess","setInfoTooltipSuccess","userEmail","setUserEmail","closeAllPopups","handleInfoTooltipOpen","getCards","catch","err","console","getMyInfo","getItem","checkToken","log","mainPage","changeLikeCardStatus","newCard","state","c","deleteCard","newCards","filter","userInfo","updateMyInfo","userData","createCard","updateMyAvatar","updatedUser","Provider","removeItem","path","register","authorize","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.61829b76.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  let link = '',\n    linkText = '';\n  if (props.location.pathname === '/sign-in') {\n    link = '/sign-up';\n    linkText = 'Регистрация';\n  } else if (props.location.pathname === '/sign-up') {\n    link = '/sign-in';\n    linkText = 'Войти';\n  }\n  \n  return (\n  <header className=\"header\">\n    <img src={logo} className=\"header__logo\" alt=\"место россия\"/>\n    <div className=\"header__container\">\n        {props.loggedIn ? (\n          <>\n            <div className=\"header__user-email\">{props.email}</div>\n            <button className=\"header__exit-button button\" onClick={props.handleLogout}>\n              Выйти\n            </button>\n          </>\n        ) : (\n          <Link className=\"header__link\" to={link}>\n            {linkText}\n          </Link>\n        )}\n      </div>\n  </header>\n  )\n}\n\nexport default withRouter (Header)","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `place__delete-button ${isOwn ? 'place__delete-button_visible': 'place__delete-button_hidden'}`; \n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__like ${isLiked && 'place__like_active'}`;\n  \n  return (\n    <div className=\"place\">\n        <div className=\"place__photo-container\">\n          <img className=\"place__photo\" src={card.link} alt={card.name} onClick={() => {onCardClick(card);}}></img>\n        </div>\n        <div className=\"place__description\">\n          <h3 className='place__heading'>{card.name}</h3>\n          <div className ='place__like-container'>\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={() => { onCardLike(card) }}/> \n            <span className='place__like-counter'>{card.likes.length}</span>\n          </div>\n        </div>\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={() => { onCardDelete(card) }}/>\n    </div>\n\n  )}\n\n  export default Card;","import React, { useContext } from 'react';\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n    <section className=\"profile\">\n    <button className=\"profile__avatar-edit\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={props.onEditAvatar}></button>\n    <div className=\"profile__info\">\n      <div className=\"profile__name-container\">\n       <h1 className=\"profile__name\">{currentUser.name}</h1>\n       <button className=\"profile__edit-button button\" type=\"button\" onClick={props.onEditProfile}></button>\n      </div>\n      <p className=\"profile__about\">{currentUser.about}</p>\n    </div>\n    <button className=\"profile__add-button button\" type=\"button\" onClick={props.onAddPlace}></button>\n    </section>\n    <section className=\"places\">\n    {props.cards.map((card) => (\n          <Card\n            card={card}\n            key={card._id}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n    </section>\n  </main>\n  )\n}\n\nexport default Main","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__heading\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_active'}`}>\n    <div className=\"popup__container\">\n      <button className=\"popup__close-button button\" type=\"button\" onClick={props.onClose}></button>\n      <h2 className=\"popup__title\">{props.title}</h2>\n      <form className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\n        {props.children}\n        <button className=\"popup__save-button button\" type=\"submit\">{props.submitText}</button>\n    </form>   \n    </div>\n  </div>\n  )\n}\n\nexport default PopupWithForm;","function ImagePopup(props) {\n  return (\n  <div className={`popup popup_image ${props.card && 'popup_active'}`}>\n      <div className=\"popup__image-container\">\n        <button className=\"popup__close-button button\" onClick={props.onClose}></button>\n        <img className=\"popup__image-photo\" src={props.card && props.card.link}  alt='изображение'/>\n        <p className=\"popup__image-description\">{props.card && props.card.name}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React, { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit ={handleSubmit}\n    >\n      <input \n        id=\"profile-name\" \n        className=\"popup__input popup__input_profile_name\" \n        name=\"name\" \n        minLength=\"2\" \n        maxLength=\"40\" \n        required  \n        value={name} \n        onChange={(evt) => {setName(evt.target.value)}}/>\n      <span className=\"profile-name-error popup__error\"/>\n      <input \n        id=\"profile-about\" \n        className=\"popup__input popup__input_profile_about\" \n        name=\"about\" \n        minLength=\"2\" \n        maxLength=\"200\" \n        required \n        value={description} \n        onChange={(evt) => {setDescription(evt.target.value)}}/>\n      <span className=\"profile-about-error popup__error\"/>\n    </PopupWithForm>\n  )\n\n}\n\nexport default EditProfilePopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault(); \n    onAddPlace({\n      name,\n      link\n    });\n  }\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  return(\n    <PopupWithForm \n      name=\"place\"\n      title=\"Новое место\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input \n        id=\"place-name\" \n        className=\"popup__input popup__input_place_name\" \n        name=\"name\" \n        placeholder=\"Название\" \n        minLength=\"2\" \n        maxLength=\"40\" \n        required \n        value={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"place-name-error popup__error\"/>\n      <input \n        id=\"place-link\" \n        className=\"popup__input popup__input_place_link\" \n        type ='url' \n        name=\"link\" \n        placeholder=\"Ссылка на картинку\" \n        required\n        value={link}\n        onChange={handleLinkChange}\n      />\n      <span className=\"place-link-error popup__error\"/>\n    </PopupWithForm>\n  \n  )\n\n}\n\nexport default AddPlacePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarInput = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarInput.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input \n        id ='profile-avatar' \n        className=\"popup__input popup__input_profile_avatar\"  \n        name=\"link\" \n        type=\"url\" \n        placeholder=\"Ссылка на картинку\" \n        ref={avatarInput} \n        required/>\n      <span id=\"profile-avatar-error\" className=\"popup__error\"/>\n    </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;\n","export const initialCards = [\n  {\n    name: 'Архыз',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\n  },\n  {\n    name: 'Челябинская область',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\n  },\n  {\n    name: 'Иваново',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg'\n  },\n  {\n    name: 'Камчатка',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\n  },\n  {\n    name: 'Холмогорский район',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\n  },\n  {\n    name: 'Байкал',\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\n  }\n]\n\nexport const editButton = document.querySelector('.profile__edit-button')\nexport const addButton = document.querySelector('.profile__add-button')\nexport const avatarEditButton = document.querySelector('.profile__avatar-edit')\n\nexport const nameSelector = '.profile__name'\nexport const aboutSelector = '.profile__about'\nexport const avatarSelector = '.profile__avatar'\n\nexport const placesContainerSelector = '.places'\nexport const placeTemplateSelector = '#place-template'\n\nexport const popupPlaceSelector = '.popup_place'\nexport const popupProfileSelector = '.popup_profile'\nexport const popupImageSelector = '.popup_image'\nexport const popupAvatarSelector ='.popup_avatar'\nexport const popupDeleteConfirmSelector ='.popup_delete-confirm'\n\nexport const METHOD = {\n    GET: 'GET',\n    POST: 'POST',\n    DELETE: 'DELETE',\n    PUT: 'PUT',\n    PATCH: 'PATCH',\n}\n\nexport const CONFIG_API = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\n  headers: {\n    authorization: '5272ec4f-012a-4dd0-babb-fcf2aac8eb04',\n    'Content-Type': 'application/json'\n  }\n}\n\nexport const VALIDATOR_DATA = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__save-button ',\n  inactiveButtonClass: 'popup__save-button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorSelector: '.popup__error',\n  errorClass: 'popup__error_visible',\n}\n","import { METHOD } from './constants.js'\n\nclass Api {\n  constructor (config) {\n    this.url = config.url\n    this.headers = config.headers\n  }\n\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n  return Promise.reject(new Error(`Произошла ошибка со статус кодом ${res.status}`))\n  }\n    \n  getCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: this.headers,\n    })\n    .then(this._handleResponse)  \n  }\n\n  createCard({name, link}) {\n    return fetch(`${this.url}/cards`, {\n      method: METHOD.POST,\n      headers: this.headers,\n      body: JSON.stringify({ name, link })\n    })\n    .then(this._handleResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`, {\n      method: METHOD.DELETE,\n      headers: this.headers,\n    })\n    .then(this._handleResponse)\n    }\n\n\n\n changeLikeCardStatus(cardId, likeStatus) {\n  if (likeStatus) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: METHOD.PUT,\n      headers: this.headers,\n    }).then(this._handleResponse)\n  } else {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n      method: METHOD.DELETE,\n      headers: this.headers,\n    }).then(this._handleResponse)\n    }\n  }\n\n  getMyInfo() {\n    return fetch(`${this.url}/users/me`, {\n      headers: this.headers,\n    })\n    .then(this._handleResponse)\n  }\n\n  updateMyInfo({name, about}) {\n    return fetch(`${this.url}/users/me`, {\n      method: METHOD.PATCH, \n      headers: this.headers,\n      body: JSON.stringify({ name, about })\n    })\n    .then(this._handleResponse)\n  }\n\n  updateMyAvatar(avatar) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: METHOD.PATCH, \n      headers: this.headers,\n      body: JSON.stringify({ avatar })\n    })\n    .then(this._handleResponse)\n  }\n}\n\n\nconst api = new Api ({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-21',\n  headers: {\n    authorization: '5272ec4f-012a-4dd0-babb-fcf2aac8eb04',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api\n\n\n","import { METHOD } from './constants.js'\n\n\nclass Auth {\n  constructor (config) {\n    this.url = config.url\n    this.headers = config.headers\n  }\n  \n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n  return Promise.reject(new Error(`Произошла ошибка со статус кодом ${res.status}`))\n  }\n  \n  register({password, email}){\n    return fetch(`${this.url}/signup`, {\n      method: METHOD.POST,\n      headers: this.headers,\n      body: JSON.stringify({password, email})\n    })\n    .then(this._handleResponse)\n  };\n\n  authorize({password, email}){\n    return fetch(`${this.url}/signin`, {\n      method: METHOD.POST,\n      headers: this.headers,\n      body: JSON.stringify({password, email})\n    })\n    .then(this._handleResponse)\n    .then((data) => {\n      if (data.token){\n        localStorage.setItem('token', data.token);      \n      }\n      return data;\n    })\n  };\n\n  checkToken(token){\n    return fetch(`${this.url}/users/me`, {\n      method: METHOD.GET,\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(this._handleResponse)\n    .then(data => data)\n  }\n}\n\nconst auth = new Auth({\n  url: 'https://auth.nomoreparties.co',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }, \n})\n\nexport default auth\n\n","import React from 'react';\n\nfunction SignForm(props) {\n  return (\n    <form\n      className=\"sign-form\"\n      name={props.name}\n      onSubmit={props.onSubmit}\n      action=\"#\"\n      method=\"GET\"\n      noValidate\n    >\n      <div className=\"sign-form__container\">\n        <h2 className=\"sign-form__title\">{props.title}</h2>\n        {props.children}\n      </div>\n      <div className=\"sign-form__bottom-container\">\n        <button type=\"submit\" className=\"sign-form__submit-button\">\n          {props.submitText}\n        </button>\n        {props.hint}\n      </div>\n    </form>\n  );\n}\n\nexport default SignForm;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport SignForm from './SignForm';\n\nfunction Login({ handleLogin }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  \n  function submitHandler(e) {\n  handleLogin(e, email, password)\n  }\n\n  const hint = (\n    <div className=\"sign-form__transition-hint\">\n      Ещё не зарегистрированы?{' '}\n      <Link className=\"sign-form__link\" to=\"/sign-up\">\n        Регистрация\n      </Link>\n    </div>\n  );\n\n  return (\n    <SignForm name=\"sign-in\" onSubmit={submitHandler} title=\"Вход\" submitText=\"Войти\" hint={hint}>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-email\"\n          name=\"email\"\n          type=\"email\"\n          value={email}\n          onChange={(evt) => {\n            setEmail(evt.target.value);\n          }}\n          placeholder=\"Email\"\n          required\n        />\n        <span\n          className=\"sign-form__input-error sign-form__input-error_active\"\n          id=\"input-edit-name-error\"\n        ></span>\n      </label>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-password\"\n          name=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(evt) => {\n            setPassword(evt.target.value);\n          }}\n          placeholder=\"Пароль\"\n          required\n        />\n      </label>\n    </SignForm>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport SignForm from './SignForm';\n\nfunction Register({handleRegister}) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function submitHandler(e) {\n    handleRegister(e, email, password)\n  }\n\n  const hint = (\n    <div className=\"sign-form__transition-hint\">\n      Уже зарегистрированы?{' '}\n      <Link className=\"sign-form__link\" to=\"/sign-in\">\n        Войти\n      </Link>\n    </div>\n  );\n\n  return (\n    <SignForm\n      name=\"sign-in\"\n      onSubmit={submitHandler}\n      title=\"Регистрация\"\n      submitText=\"Зарегистрироваться\"\n      hint={hint}\n    >\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-email\"\n          name=\"email\"\n          type=\"email\"\n          value={email}\n          onChange={(evt) => {\n            setEmail(evt.target.value);\n          }}\n          placeholder=\"Email\"\n          required\n        />\n        <span\n          className=\"sign-form__input-error sign-form__input-error_active\"\n          id=\"input-edit-name-error\"\n        ></span>\n      </label>\n      <label className=\"sign-form__field\">\n        <input\n          className=\"sign-form__input\"\n          id=\"input-sign-password\"\n          name=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(evt) => {\n            setPassword(evt.target.value);\n          }}\n          placeholder=\"Пароль\"\n          required\n          minLength=\"2\"\n          maxLength=\"32\"\n        />\n      </label>\n    </SignForm>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = (props) => {\n  return (\n    <Route>\n      {() => \n        (props.loggedIn ? props.component : <Redirect to=\"/sign-in\" />)\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nfunction InfoTooltip(props) {\n  const history = useHistory();\n  const image = props.isSuccess ? success : error;\n  const popupText = props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.';\n  const imageAlt = props.isSuccess ? 'Успешная регистрация' : 'Что-то пошло не так';\n\n\n  function closeHandler() {\n    props.onClose();\n\n    if (props.isSuccess) {\n      history.push('/sign-in');\n    }\n  }\n\n  return (\n    <div className={`popup popup_after-sign ${props.isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={closeHandler}\n        ></button>\n        <form\n          className=\"popup__form\"\n          name=\"after-sign\"\n          onSubmit={closeHandler}\n          action=\"#\"\n          method=\"GET\"\n          noValidate\n        >\n          <img\n            className=\"popup__auth-image\"\n            src={image}\n            alt={imageAlt}\n          />\n          <h2 className=\"popup__text\">{popupText}</h2>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import React, { useState, useEffect } from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({ _id: '', name: '', avatar: '', about: '' });\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [infoTooltipSuccess, setInfoTooltipSuccess] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const history = useHistory();\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []);\n  \n\n  useEffect(()=> {\n    api\n      .getMyInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  },[]);\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      auth\n        .checkToken(token)\n        .then((res) => {\n          if (res.data) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push('/');\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [history, loggedIn]);\n\n\n\n\n  function handleEditProfileClick() {\n    setIsEditProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n\n  function handleUpdateUser(userInfo) {\n    api\n      .updateMyInfo(userInfo)\n      .then((userData) => {\n        setCurrentUser(userData);\n        setIsEditProfileOpen(false);\n    })\n      .catch((err) => {\n        console.error(err);\n      });\n    }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .updateMyAvatar(avatar)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .createCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]); \n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.error(err);\n    });\n  } \n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n    })\n      .catch(err => {\n        console.log(err);\n    });\n  }\n\n\n  function closeAllPopups() {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null)\n  }\n\n  function handleLogin(e, email, password) {\n    e.preventDefault();\n    \n    if (!email || !password) {\n      handleInfoTooltipOpen(false);\n      return;\n    }\n    auth\n      .authorize({password, email})\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          history.push('/');\n        } else {\n          handleInfoTooltipOpen(false);\n        }\n      })\n      .catch((err) => {\n        handleInfoTooltipOpen(false);\n        console.log(err);\n      });\n  }\n\n  function handleRegister(e, email, password) {\n    e.preventDefault();\n\n    auth\n    .register({password, email})\n    .then((res) => {\n      if (res.data) {\n        handleInfoTooltipOpen(true);\n      } else {\n        handleInfoTooltipOpen(false);\n      }\n    }).catch((err)=>{\n      handleInfoTooltipOpen(false);\n      console.log(err);\n    });\n  }\n  \n\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n  }\n\n  function handleInfoTooltipClose() {\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleInfoTooltipOpen(isSuccess) {\n    setIsInfoTooltipOpen(true);\n    setInfoTooltipSuccess(isSuccess);\n  }\n\n  const mainPage = (\n    <>\n    <Main \n      cards={cards}\n      onEditAvatar={handleEditAvatarClick}\n      onEditProfile={handleEditProfileClick}\n      onAddPlace={handleAddPlaceClick}\n      onCardClick={handleCardClick}\n      onCardLike={handleCardLike}\n      onCardDelete={handleCardDelete}\n    />\n    <Footer />\n    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n    <PopupWithForm name=\"delete-confirm\" title=\"Вы уверены?\" submitText=\"Да\" onClose={closeAllPopups}/>\n    <ImagePopup card={selectedCard} onClose={closeAllPopups}/> \n    </>\n  )\n\n  return (\n  \n  <CurrentUserContext.Provider value={currentUser}>\n  <div className=\"container\">\n    <div className =\"page\">\n    <Header loggedIn={loggedIn} email={userEmail} handleLogout={handleLogout}/>\n    <Switch>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegister} />\n      </Route>\n      <Route path=\"/sign-in\">\n        <Login handleLogin={handleLogin} />\n      </Route>\n      <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={mainPage} />\n      <Route path=\"*\">{loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}</Route>\n    </Switch>\n    <InfoTooltip\n      isOpen={isInfoTooltipOpen}\n      onClose={handleInfoTooltipClose}\n      isSuccess={infoTooltipSuccess}\n    />\n  </div>\n</div>\n</CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App'\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}